

## محدود کردن جستجوی وردپرس به «نوشته‌ها»

به صورت پیش‌فرض، جستجوی وردپرس نتایج را از تمام انواع محتوا (مانند نوشته‌ها، برگه‌ها، و محصولات ووکامرس) نمایش می‌دهد. این قطعه کد، جستجوی سایت شما را به گونه‌ای تغییر می‌دهد که نتایج **فقط از میان «نوشته‌ها»** نمایش داده شوند.

این کار به کاربران کمک می‌کند تا به جای گشتن در میان برگه‌ها، به طور مستقیم به مقالات و مطالب وبلاگ شما دسترسی پیدا کنند.

### نصب

کد زیر را در انتهای فایل **`functions.php`** قالب فعال وردپرس خود و یا در یک افزونه سفارشی اضافه کنید.

```php
function saeed_search_filter($query) {
    // اطمینان از اینکه کد فقط در بخش کاربری سایت، برای کوئری اصلی و در صفحه جستجو اجرا می‌شود
    if ( ! is_admin() && $query->is_main_query() ) {
        if ( $query->is_search ) {
            // محدود کردن نتایج جستجو فقط به نوع پست 'post'
            $query->set( 'post_type', 'post' );
        }
    }
}
add_action( 'pre_get_posts', 'saeed_search_filter' );
```

-----

### سفارشی‌سازی

شما به راحتی می‌توانید این کد را برای جستجو در انواع پست (Post Types) دیگر نیز تغییر دهید. کافیست مقدار `'post'` را در خط `$query->set( 'post_type', 'post' );` ویرایش کنید.

#### مثال ۱: جستجو در نوشته‌ها و برگه‌ها

برای اینکه جستجو شامل **نوشته‌ها** و **برگه‌ها** (Pages) شود، از کد زیر استفاده کنید:

```php
$query->set( 'post_type', array( 'post', 'page' ) );
```

#### مثال ۲: جستجو فقط در محصولات ووکامرس

برای اینکه جستجو فقط نتایج را از میان **محصولات** (Products) ووکامرس نمایش دهد:

```php
$query->set( 'post_type', 'product' );
```
